<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patrick Cheng - Creative Portfolio</title>
    <!-- å¼•å…¥ Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥ Lucide Icons for aesthetic icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- ä¼˜åŒ–å­—ä½“: Inter for Latin, Noto Sans SC for Chinese -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Noto+Sans+SC:wght@100..900&display=swap" rel="stylesheet">
    <style>
        /* é»˜è®¤æµ…è‰²æ¨¡å¼ (Artistic & Soft Aesthetic) */
        :root {
            --color-bg: #f5f5f7; /* ææµ…ç°ï¼ŒæŸ”å’ŒèƒŒæ™¯ */
            --color-text: #17171a; /* è¿‘é»‘è‰²ï¼Œé«˜å¯¹æ¯”åº¦ */
            --color-primary: #3b82f6; /* å®çŸ³è“/è‰ºæœ¯è“ */
            --color-accent: #6e6e73; /* æŸ”å’Œçš„ä¸­æ€§ç° (è°ƒæ•´ä¸ºæ›´ä¸­æ€§ï¼Œé¿å…ä¸æ ‡ç­¾æ’è‰²) */
            --color-card-bg: #ffffff;
            --color-border: #e4e4e7; /* ææ·¡è¾¹æ¡† */
            --color-highlight-bg: #f1f5f9; /* æµ…è“ç°ï¼Œç”¨äºé«˜äº® */
            --color-green: #10b981; /* è‰ºæœ¯ç»¿ */
        }
        /* æ·±è‰²æ¨¡å¼ (Artistic & Deep Aesthetic) */
        .dark {
            --color-bg: #101014; /* ææ·±èƒŒæ™¯ */
            --color-text: #e9e9eb; /* è¿‘ç™½è‰² */
            --color-primary: #60a5fa; /* äº®å®çŸ³è“ */
            --color-accent: #a1a1a6; /* äº®ä¸­æ€§ç° */
            --color-card-bg: #1c1c21; /* æµ®åŠ¨å¡ç‰‡èƒŒæ™¯ */
            --color-border: #333338;
            --color-highlight-bg: #282830;
            --color-green: #34d399;
        }

        /* ç»Ÿä¸€å­—ä½“æ ˆ */
        body {
            font-family: 'Inter', 'Noto Sans SC', sans-serif;
            background-color: var(--color-bg);
            color: var(--color-text);
            transition: background-color 0.4s, color 0.4s;
        }
        
        /* ç»Ÿä¸€å¡ç‰‡æ ·å¼: ç§»é™¤ç¡¬è¾¹æ¡†ï¼Œä½¿ç”¨æŸ”å’Œã€å¼¥æ•£çš„é˜´å½±ï¼Œå¢åŠ æ·±åº¦ */
        .card {
            background-color: var(--color-card-bg);
            border: 1px solid var(--color-border);
            /* è‰ºæœ¯æ„ŸæŸ”å’Œé˜´å½± */
            box-shadow: 0 10px 30px -15px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.05);
            border-radius: 1.5rem; /* æ›´å¤§çš„åœ†è§’ */
            transition: all 0.4s ease;
        }
        .card:hover {
             box-shadow: 0 20px 40px -20px rgba(0, 0, 0, 0.15); /* æ‚¬åœæ—¶é˜´å½±åŠ æ·± */
             transform: translateY(-3px); /* ç•¥å¾®æŠ¬å‡ */
        }
        
        /* æˆå°±é«˜äº®æ ·å¼: ä¿æŒç»“æ„æ„Ÿï¼Œä½†é¢œè‰²æ›´æŸ”å’Œ */
        .achievement-box {
            background-color: var(--color-highlight-bg);
            border-left: 4px solid var(--color-primary); 
            border-radius: 1rem; /* åŒ¹é…å¡ç‰‡åœ†è§’ */
            padding: 1rem;
        }

        /* å¯¼èˆªæ å¹³æ»‘æ»šåŠ¨ */
        html {
            scroll-behavior: smooth;
        }

        /* å“åº”å¼åˆ—è¡¨å¸ƒå±€ for Experience */
        .experience-card-container {
            display: grid;
            gap: 3rem; /* å¢åŠ æ›´å¤šç•™ç™½ */
        }
        @media (min-width: 768px) {
            .experience-card-container {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
        }
        /* ä½œå“é›†ç½‘æ ¼å¸ƒå±€ */
        .portfolio-grid {
            display: grid;
            gap: 2.5rem;
            grid-template-columns: repeat(1, 1fr);
        }
        @media (min-width: 768px) {
            .portfolio-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        @media (min-width: 1024px) {
            .portfolio-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        /* æ»šåŠ¨è¿›åº¦æ¡æ ·å¼ */
        #progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px; /* ç•¥å¾®åŠ ç²— */
            background-color: var(--color-primary);
            width: 0%;
            z-index: 9999;
            transition: width 0.1s linear;
        }

        /* è¿”å›é¡¶éƒ¨æŒ‰é’®æ ·å¼ */
        #back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background-color: var(--color-primary);
            color: white;
            padding: 0.8rem; /* å¢å¤§è§¦æ§åŒºåŸŸ */
            border-radius: 9999px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s, transform 0.3s;
        }
        #back-to-top.show {
            opacity: 1;
            pointer-events: auto;
        }
        #back-to-top:hover {
            transform: translateY(-5px); /* æ‚¬åœæ—¶æŠ¬å‡æ›´æ˜æ˜¾ */
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }
        
        /* æ¨¡æ‹Ÿå›¾ç‰‡å ä½ç¬¦ - Rubino Company Profile */
        .project-image-placeholder-rubino {
            /* Light Mode Placeholder: Light blue background, primary blue text */
            background-image: url('https://placehold.co/600x128/e0e7ff/3b82f6?text=RUBINO+INDUSTRY+%7C+COMPANY+PROFILE+%28PDF%29');
            background-size: cover;
            background-position: center;
        }
        .dark .project-image-placeholder-rubino {
             /* Dark Mode Placeholder: Dark blue background, light blue text */
             background-image: url('https://placehold.co/600x128/1e293b/60a5fa?text=RUBINO+INDUSTRY+%7C+COMPANY+PROFILE+%28PDF%29');
        }
    </style>
</head>
<body class="antialiased">

    <!-- æ»šåŠ¨è¿›åº¦æŒ‡ç¤ºå™¨ -->
    <div id="progress-bar"></div>

    <!-- å¯¼èˆªæ  (æ›´ç®€æ´çš„å¤´éƒ¨) -->
    <header class="sticky top-0 z-50 bg-opacity-90 backdrop-blur-sm card border-b border-[var(--color-border)] shadow-none">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 class="text-xl font-bold text-[var(--color-text)]">Patrick Cheng</h1>
            <div class="flex items-center space-x-4">
                <nav class="hidden md:flex space-x-8" id="nav-links">
                    <!-- Nav links populated by JS -->
                </nav>
                <button id="lang-toggle" class="p-2 rounded-full font-medium text-sm text-[var(--color-primary)] hover:opacity-70 transition duration-200">
                    EN/ä¸­æ–‡
                </button>
                <button id="theme-toggle" class="p-2 rounded-full hover:bg-[var(--color-highlight-bg)] transition duration-200">
                    <i data-lucide="moon" class="w-5 h-5 text-[var(--color-text)]"></i>
                </button>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
        
        <!-- Hero Section (è‰ºæœ¯åŒ–æ ‡é¢˜æ’ç‰ˆ) -->
        <section id="hero" class="text-center py-24 md:py-48">
            <!-- Content populated by JS -->
        </section>

        <!-- å…³äºæˆ‘ Section -->
        <section id="about" class="py-24 border-t border-[var(--color-border)]">
            <h3 class="text-4xl font-bold mb-16 text-center" id="about-title"></h3>
            <div class="max-w-4xl mx-auto card p-12 rounded-2xl text-left" id="about-content">
                <!-- Content populated by JS -->
            </div>
        </section>

        <!-- ç»å† Section (å¡ç‰‡åˆ—è¡¨å¸ƒå±€) -->
        <section id="experience" class="py-24 border-t border-[var(--color-border)]">
            <h3 class="text-4xl font-bold mb-20 text-center" id="experience-title"></h3>
            
            <div class="max-w-6xl mx-auto experience-card-container" id="experience-list">
                <!-- Content populated by JS -->
            </div>
        </section>
        
        <!-- ä½œå“é›† Section (å·²æ·»åŠ  PDF é¢„è§ˆå›¾) -->
        <section id="portfolio" class="py-24 border-t border-[var(--color-border)]">
            <h3 class="text-4xl font-bold mb-20 text-center" id="portfolio-title"></h3>
            <div class="max-w-7xl mx-auto portfolio-grid" id="portfolio-list">
                <!-- Content populated by JS -->
            </div>
        </section>

        <!-- æŠ€èƒ½ Section -->
        <section id="skills" class="py-24 border-t border-[var(--color-border)]">
            <h3 class="text-4xl font-bold mb-20 text-center" id="skills-title"></h3>
            <div class="grid md:grid-cols-3 gap-12 max-w-6xl mx-auto" id="skills-content">
                <!-- Content populated by JS -->
            </div>
        </section>
        
        <!-- è”ç³»æ–¹å¼ Section -->
        <section id="contact" class="py-24 border-t border-[var(--color-border)] text-center">
            <h3 class="text-4xl font-bold mb-12" id="contact-title"></h3>
            <div id="contact-content">
                <!-- Content populated by JS -->
            </div>
        </section>
        
    </main>

    <!-- Footer -->
    <footer class="border-t border-[var(--color-border)] py-8 text-center text-sm text-gray-500 dark:text-gray-400">
        <p id="footer-text">&copy; 2025 Patrick Cheng Ming Huan. All rights reserved.</p>
    </footer>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button id="back-to-top" aria-label="è¿”å›é¡¶éƒ¨">
        <i data-lucide="arrow-up" class="w-6 h-6"></i>
    </button>
    
    <!-- PDF æ¨¡æ€æ¡† (å…¨å±é¢„è§ˆ) -->
    <div id="pdf-modal" class="fixed inset-0 z-[100] bg-black bg-opacity-90 hidden flex items-center justify-center p-4">
        <div class="relative w-full h-full max-w-7xl max-h-full">
            <button id="close-modal" class="absolute top-4 right-4 z-[101] text-white p-3 rounded-full bg-red-600 hover:bg-red-700 transition shadow-lg" aria-label="å…³é—­ PDF é¢„è§ˆ">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
            <!-- iframe ç”¨äºåŠ è½½ PDF æ–‡ä»¶ï¼Œç”±æµè§ˆå™¨å†…ç½®çš„ PDF é˜…è¯»å™¨æ¸²æŸ“ -->
            <iframe id="pdf-viewer" class="w-full h-full bg-white rounded-lg shadow-2xl" frameborder="0"></iframe>
        </div>
    </div>

    <!-- JavaScript for Theme Toggle, Language Switch, and Content Rendering -->
    <script>
        // --- CONTENT DATA STRUCTURE (BILINGUAL) ---
        const CONTENT = {
            cn: {
                nav: { about: "å…³äºæˆ‘", experience: "ç»å†", portfolio: "ä½œå“é›†", skills: "æŠ€èƒ½", contact: "è”ç³»" },
                hero: {
                    greeting: "ä½ å¥½ï¼Œæˆ‘æ˜¯",
                    title: "Patrick Cheng Ming Huan",
                    subtitle: "æ–°åª’ä½“è®¾è®¡å¸ˆ Â· UI/UXä¸“å®¶ Â· å¢é•¿é©±åŠ¨çš„è¥é”€äºº",
                    cta_work: "æŸ¥çœ‹æˆ‘çš„å·¥ä½œ",
                },
                about: {
                    title: "å…³äºæˆ‘ä¸æ•™è‚²èƒŒæ™¯",
                    intro_1: "åˆ›æ–°ä¸”æ‹¥æœ‰å°†æƒ³æ³•è½¬åŒ–ä¸ºæœ‰å½±å“åŠ›æˆæœçš„èƒ½åŠ›ã€‚æˆ‘æ˜¯ä¸€ä¸ªä¼˜ç§€çš„å›¢é˜Ÿåˆä½œè€…ï¼Œå…·å¤‡å‡ºè‰²çš„æ²Ÿé€šæŠ€å·§ï¼Œå¹¶å¯¹å›¾å½¢ã€3D è®¾è®¡å’Œæ–°åª’ä½“å……æ»¡æ·±åšçš„çƒ­æƒ…ã€‚",
                    intro_2: "è‡ª 7 å²èµ·æ¥å—è‰ºæœ¯è®­ç»ƒï¼Œè¿™èµ‹äºˆäº†æˆ‘å¼ºçƒˆçš„è´£ä»»æ„Ÿã€ç²¾å‡†çš„è§†è§‰ç›´è§‰å’Œåˆ›æ–°é©±åŠ¨çš„æ€ç»´æ¨¡å¼ï¼Œè‡´åŠ›äºåœ¨è®¾è®¡å’Œè¥é”€é¢†åŸŸå®ç°å“è¶Šã€‚",
                    edu_title: "æ•™è‚²èƒŒæ™¯",
                    edu_usm: {
                        degree: "æ–°åª’ä½“è®¾è®¡ä¸æŠ€æœ¯å­¦å£« (è£èª‰å­¦ä½)",
                        institution: "é©¬æ¥è¥¿äºšç†ç§‘å¤§å­¦",
                        cgpa: "3.50",
                        year: "2019-2023"
                    },
                    edu_stpm: {
                        degree: "STPM",
                        institution: "SEKOLAH MENENGAH KEBANGSAAN LAKSAMANA",
                        cgpa: "3.17",
                        year: "2017-2018"
                    }
                },
                experience: {
                    title: "èŒä¸šç»å†ä¸æˆå°±",
                    list: [
                        {
                            role: "è¥é”€ä¸»ç®¡",
                            company: "æ˜‡è¾‰å·¥ä¸šæœ‰é™å…¬å¸",
                            period: "2025å¹´8æœˆ - è‡³ä»Š",
                            icon: "trending-up",
                            duties: [
                                "åˆ¶å®šè·¨å¹³å° (FB, TikTok, IG, å°çº¢ä¹¦) çš„å†…å®¹ç­–ç•¥ï¼Œåˆ¶ä½œå’Œç¼–è¾‘åŠ¨æ€è§†é¢‘ (Reels) å’Œé«˜å½±å“åŠ›æ¨ªå¹…",
                                "ä¸»å¯¼æ ¸å¿ƒå“ç‰Œèµ„äº§çš„è§†è§‰é‡æ–°è®¾è®¡ï¼ˆåŒ…æ‹¬äº§å“ç›®å½•å’Œåç‰‡ï¼‰ï¼Œç¡®ä¿å“ç‰Œä¸€è‡´æ€§",
                                "ä¸ç®¡ç†å±‚åˆä½œï¼Œç­–ç•¥æ€§åœ°æ‰§è¡Œä»˜è´¹ç¤¾äº¤åª’ä½“å¹¿å‘Šæ´»åŠ¨ï¼Œä»¥æœ€å¤§åŒ–æŠ•èµ„å›æŠ¥ç‡ (ROI)"
                            ],
                            achievements: [
                                "é€šè¿‡æˆåŠŸçš„æœ‰æœºç­–ç•¥ï¼Œå°†ä¸»è¦ Facebook è´¦æˆ·çš„æ€»äº’åŠ¨é‡æå‡ 605.2% (677 æ¬¡äº’åŠ¨)",
                                "å®ç° TikTok 10.75% çš„å—ä¼—å¢é•¿ï¼Œæ€»è§‚çœ‹é‡è¶…è¿‡ 20,700 æ¬¡",
                                "æˆåŠŸå°†çº¿ä¸Šçº¿ç´¢è½¬åŒ–ä¸ºæœˆåº¦å®¢æˆ·ï¼Œç›´æ¥è´¡çŒ®é”€å”®æ”¶å…¥"
                            ]
                        },
                        {
                            role: "UI/UX è®¾è®¡å¸ˆä¸è¥é”€ææ–™åŠ©ç†",
                            company: "PROPPYAPP SDN BHD",
                            period: "2023å¹´7æœˆ - 2025å¹´7æœˆ",
                            icon: "pen-tool",
                            duties: [
                                "ä¸»å¯¼å¤šä¸ªæ ¸å¿ƒäº§å“çš„ UI/UX è®¾è®¡ä¸è¿­ä»£ï¼Œå¹¶å»ºç«‹å’Œç»´æŠ¤ä¸€è‡´çš„è®¾è®¡ç³»ç»Ÿ",
                                "åœ¨ Scrum æ¡†æ¶å†…ä¸å¼€å‘å›¢é˜Ÿç´§å¯†åä½œï¼Œå¹¶åˆ›å»ºé«˜ä¿çœŸäº¤äº’åŸå‹è¿›è¡Œè®¾è®¡æ¼”ç¤º",
                                "è´Ÿè´£ä¸»å…¬å¸ç½‘ç«™çš„é‡æ–°è®¾è®¡ï¼Œä¼˜åŒ–ä¸»é¢˜ä»¥å¢å¼ºæ¡Œé¢å’Œç§»åŠ¨ç«¯çš„å“åº”å¼è®¾è®¡",
                                "ç®¡ç†å’Œç­–åˆ’ä¼ä¸šç¤¾äº¤åª’ä½“å†…å®¹ï¼Œåˆ¶ä½œå¼•äººå…¥èƒœçš„è§†é¢‘ã€åŠ¨ç”»å’Œæµ·æŠ¥ææ–™"
                            ],
                            achievements: [
                                "ä¸¤æ¬¡è¢«è¯„ä¸ºæœˆåº¦æœ€ä½³è¡¨ç°è€… (2024å¹´2æœˆã€4æœˆ)",
                                "å¤šæ¬¡è·å¾—æ°å‡ºå›¢é˜Ÿè´¡çŒ®æåï¼ŒéªŒè¯äº†è·¨èŒèƒ½åä½œçš„å“è¶Šæ€§"
                            ]
                        },
                        {
                            role: "å¤šåª’ä½“ã€å›¾å½¢ä¸ç¡¬ä»¶åˆ¶ä½œå®ä¹ ç”Ÿ",
                            company: "FOOTFALL CAM (META RESEARCH)",
                            period: "2023å¹´2æœˆ - 2023å¹´6æœˆ",
                            icon: "box",
                            duties: [
                                "ä¸ºå‡ºå£ç¾å›½å¸‚åœºè®¾è®¡æµ·æŠ¥ã€åŒ…è£…è´´èŠ±å’Œäº§å“è§†è§‰å›¾",
                                "ä½¿ç”¨ Unity åˆ›å»º 3D æ¨¡å‹å’Œ VR è¿‡æ»¤å™¨",
                                "ç»´æŠ¤é¢å‘ç¾å›½å®¢æˆ·çš„çº¿ä¸Šç½‘é¡µï¼Œå¹¶åœ¨ Scrum å›¢é˜Ÿä¸­åä½œ",
                                "ç®¡ç† 8 ä¸ªç”Ÿäº§ç«™ç‚¹çš„è®¾å¤‡ç»„è£…ã€æ£€æµ‹å’ŒåŒ…è£…å·¥ä½œ"
                            ],
                            achievements: []
                        },
                        {
                            role: "å…¼èŒå¹³é¢è®¾è®¡å¸ˆ",
                            company: "RMD INTERNATIONAL SDN BHD",
                            period: "2021å¹´11æœˆ - 2022å¹´7æœˆ",
                            icon: "palette",
                            duties: [
                                "è®¾è®¡æµ·æŠ¥ã€ä¼ å•å’Œæ¨ªå¹…ç­‰è¥é”€ææ–™",
                                "ç¼–è¾‘å’Œæ”¹è¿›ä¼ä¸šå®£ä¼ å†Œï¼Œä»¥æé«˜æ¸…æ™°åº¦å’Œå“ç‰Œä¿¡æ¯ä¼ é€’"
                            ],
                            achievements: []
                        }
                    ]
                },
                portfolio: {
                    title: "ç²¾é€‰ä½œå“",
                    list: [
                        {
                            name: "å…¬å¸ç®€ä»‹ PDF æ¼”ç¤ºæ–‡ç¨¿è®¾è®¡",
                            link: "Rubino_CompanyProfile_Dec2025.pdf", // é“¾æ¥åˆ°ä¸Šä¼ çš„ PDF æ–‡ä»¶
                            description: "ä¸»å¯¼è®¾è®¡äº†é¢å‘å»ºç­‘è¡Œä¸šçš„ B2B å…¬å¸ç®€ä»‹å’Œå“ç‰Œå®£ä¼ å†Œï¼Œç¡®ä¿äº†ä¸“ä¸šå½¢è±¡å’Œ ISO 9001 è´¨é‡ç›®æ ‡çš„è§†è§‰ä¼ è¾¾ã€‚ç‚¹å‡»é¢„è§ˆã€‚",
                            tags: ["PDFè®¾è®¡", "å“ç‰Œæ‰‹å†Œ", "B2Bè¥é”€", "æ’ç‰ˆ"],
                            icon: "briefcase", 
                            imageClass: "project-image-placeholder-rubino", // æ–°å¢å›¾ç‰‡ç±»å
                            color: "primary"
                        },
                        {
                            name: "äº§å“æ¼”ç¤ºè§†é¢‘åˆ¶ä½œ",
                            link: "#",
                            description: "ä¸ºæ–°åª’ä½“å¹³å°åˆ¶ä½œäº†ä¸€ç³»åˆ—å…·æœ‰é«˜è½¬åŒ–ç‡çš„äº§å“æ¼”ç¤ºè§†é¢‘å’ŒåŠ¨ç”»å¹¿å‘Šã€‚",
                            tags: ["è§†é¢‘åˆ¶ä½œ", "Premiere Pro", "Capcut", "åŠ¨æ€å›¾å½¢"],
                            icon: "video",
                            imageClass: "", // ä¿æŒé»˜è®¤å ä½
                            color: "accent"
                        },
                        {
                            name: "ç§»åŠ¨åº”ç”¨ UI/UX è®¾è®¡",
                            link: "#",
                            description: "ä¸ºé‡‘èç§‘æŠ€åº”ç”¨è®¾è®¡äº†å®Œæ•´çš„ç”¨æˆ·ç•Œé¢å’Œäº¤äº’æµç¨‹ï¼Œä¸“æ³¨äºæå‡ç”¨æˆ·ç•™å­˜ç‡ã€‚",
                            tags: ["Figma", "Design System", "UXç ”ç©¶", "åŸå‹è®¾è®¡"],
                            icon: "layout-grid",
                            imageClass: "",
                            color: "primary"
                        },
                        {
                            name: "å“ç‰Œè§†è§‰é‡å¡‘é¡¹ç›®",
                            link: "#",
                            description: "ä¸»å¯¼äº†å…¬å¸æ ¸å¿ƒå“ç‰Œèµ„äº§çš„è§†è§‰å‡çº§ï¼Œç¡®ä¿è·¨æ‰€æœ‰åª’ä»‹çš„å“ç‰Œä¸€è‡´æ€§å’Œç°ä»£æ„Ÿã€‚",
                            tags: ["å“ç‰Œç­–ç•¥", "Illustrator", "Photoshop", "è§†è§‰è¯†åˆ«"],
                            icon: "flag",
                            imageClass: "",
                            color: "green"
                        },
                    ]
                },
                skills: {
                    title: "æ ¸å¿ƒæŠ€èƒ½æ ˆ",
                    languages: "è¯­è¨€èƒ½åŠ›: é©¬æ¥è¯­ (æ¯è¯­), åè¯­ (æ¯è¯­), è‹±è¯­ (æµåˆ©)",
                    categories: [
                        {
                            title: "UI/UX ä¸è®¾è®¡",
                            icon: "layout-grid",
                            tags: ["Figma", "Framer", "è®¾è®¡ç³»ç»Ÿ", "ç½‘é¡µè®¾è®¡", "ç§»åŠ¨ç«¯è®¾è®¡", "ç”¨æˆ·ä½“éªŒè®¾è®¡", "è§†è§‰è®¾è®¡", "å›¾å½¢è®¾è®¡"],
                            color: "primary"
                        },
                        {
                            title: "å†…å®¹ä¸åª’ä½“",
                            icon: "video",
                            tags: ["æ‘„åƒ", "Adobe Premiere Pro", "Capcut", "Adobe Lightroom", "3D å»ºæ¨¡ (Unity)", "Adobe Photoshop"],
                            color: "accent"
                        },
                        {
                            title: "è¥é”€ä¸å·¥å…·",
                            icon: "bar-chart-3",
                            tags: ["ä»˜è´¹ç¤¾äº¤å¹¿å‘Š", "æ•°æ®é©±åŠ¨ä¼˜åŒ–", "çº¿ç´¢è½¬åŒ–", "è·¨èŒèƒ½åä½œ", "Canva", "Excel"],
                            color: "green"
                        }
                    ]
                },
                contact: {
                    title: "æœŸå¾…åˆä½œ",
                    p1: "æ— è®ºæ˜¯åˆ›æ„é¡¹ç›®ã€UI/UX æŒ‘æˆ˜è¿˜æ˜¯è¥é”€å¢é•¿æœºä¼šï¼Œæˆ‘éƒ½æ¸´æœ›å°†æˆ‘çš„è®¾è®¡å’Œå•†ä¸šæŠ€èƒ½å¸¦å…¥ä¸‹ä¸€ä¸ªå›¢é˜Ÿã€‚",
                    ref: "ä¸»è¦æ¨èäºº: LAI SWEE PIN, ProppyApp Sdn Bhd é¦–å¸­äº§å“å®˜"
                },
                footer: "Â© 2025 Patrick Cheng Ming Huan. All rights reserved."
            },
            en: {
                nav: { about: "About Me", experience: "Experience", portfolio: "Portfolio", skills: "Skills", contact: "Contact" },
                hero: {
                    greeting: "Hello, I am",
                    title: "Patrick Cheng Ming Huan",
                    subtitle: "New Media Designer Â· UI/UX Specialist Â· Growth-Driven Marketer",
                    cta_work: "View My Work",
                },
                about: {
                    title: "About Me & Education",
                    intro_1: "Creative and skilled in transforming ideas into impactful results. A strong team player with excellent communication skills and a deep passion for graphic and 3D design.",
                    intro_2: "Trained in art since age 7, with a strong sense of responsibility, visual intuition, and innovation-driven thinking, committed to excellence in design and marketing.",
                    edu_title: "Education",
                    edu_usm: {
                        degree: "Bachelor of Fine Arts (Hons) New Media Design and Technology",
                        institution: "UNIVERSITY SAINS MALAYSIA",
                        cgpa: "3.50",
                        year: "2019-2023"
                    },
                    edu_stpm: {
                        degree: "STPM",
                        institution: "SEKOLAH MENENGAH KEBANGSAAN LAKSAMANA",
                        cgpa: "3.17",
                        year: "2017-2018"
                    }
                },
                experience: {
                    title: "Professional Experience & Achievements",
                    list: [
                        {
                            role: "Marketing Executive",
                            company: "RUBINO INDUSTRY SDN BHD",
                            period: "AUG 2025 - PRESENT",
                            icon: "trending-up",
                            duties: [
                                "Developed and executed a cohesive content strategy across platforms (FB, TikTok, IG, Xiao Hong Shu), producing and editing dynamic video content (Reels) and designing high-impact banners and posters for campaigns",
                                "Led the visual redesign of core brand assets (product catalogs, name cards), ensuring brand consistency",
                                "Collaborated with management to strategize and execute paid social media advertising campaigns to maximize ROI"
                            ],
                            achievements: [
                                "Drove a significant 605.2% increase in total interactions (677 interactions) on the primary Facebook account through successful organic engagement strategies",
                                "Achieved 10.75% audience growth on TikTok, resulting in over 20,700 video views",
                                "Successfully converted online leads into monthly customers, directly contributing to increased sales revenue"
                            ]
                        },
                        {
                            role: "UI/UX Designer & Marketing Material Assistant",
                            company: "PROPPYAPP SDN BHD",
                            period: "JUL 2023 - JUL 2025",
                            icon: "pen-tool",
                            duties: [
                                "Led UI/UX design and iteration for core products, establishing and maintaining a consistent Design System",
                                "Collaborated closely with development teams within the Scrum framework, creating high-fidelity interactive prototypes for design presentations",
                                "Executed the redesign of the main corporate website, optimizing themes for enhanced responsive design across desktop and mobile devices",
                                "Managed and curated corporate social media content, producing engaging video, animated, and poster materials"
                            ],
                            achievements: [
                                "Recognized as Top Performer twice (Feb & Apr 2024)",
                                "Nominated multiple times for outstanding team contributions, validating excellence in cross-functional collaboration"
                            ]
                        },
                        {
                            role: "Multimedia, Graphic, & Production Hardware Intern",
                            company: "FOOTFALL CAM (META RESEARCH)",
                            period: "FEB 2023 - JUN 2023",
                            icon: "box",
                            duties: [
                                "Designed posters, packaging decals, and product visuals for export to the U.S. market",
                                "Created 3D models and VR filters using Unity",
                                "Developed design templates and maintained the U.S. customer-facing Nursery Web",
                                "Managed 8 production stations for Footfall Cam assembly, including testing and inspection"
                            ],
                            achievements: []
                        },
                        {
                            role: "Part Time - Graphic Designer",
                            company: "RMD INTERNATIONAL SDN BHD",
                            period: "NOV 2021 - JUL 2022",
                            icon: "palette",
                            duties: [
                                "Designed marketing materials such as posters, flyers, and banners",
                                "Edited and refined corporate brochures to improve clarity and brand messaging"
                            ],
                            achievements: []
                        }
                    ]
                },
                portfolio: {
                    title: "Selected Projects",
                    list: [
                        {
                            name: "Corporate Profile PDF Presentation Design",
                            link: "Rubino_CompanyProfile_Dec2025.pdf", // Link to the uploaded PDF
                            description: "Led the design and production of B2B corporate profiles and brand brochures for the architectural industry, ensuring professional presentation aligned with ISO 9001 quality objectives. Click to preview.",
                            tags: ["PDF Design", "Brand Brochure", "B2B Marketing", "Layout"],
                            icon: "briefcase",
                            imageClass: "project-image-placeholder-rubino", // New image class
                            color: "primary"
                        },
                        {
                            name: "Product Demo Video Production",
                            link: "#",
                            description: "Produced a series of high-conversion product demonstration videos and animated advertisements for new media platforms.",
                            tags: ["Video Production", "Premiere Pro", "Capcut", "Motion Graphics"],
                            icon: "video",
                            imageClass: "",
                            color: "accent"
                        },
                        {
                            name: "Mobile App UI/UX Design",
                            link: "#",
                            description: "Designed the complete user interface and interaction flow for a FinTech application, focusing on increasing user retention rates.",
                            tags: ["Figma", "Design System", "UX Research", "Prototyping"],
                            icon: "layout-grid",
                            imageClass: "",
                            color: "primary"
                        },
                        {
                            name: "Corporate Visual Rebranding Project",
                            link: "#",
                            description: "Led the visual overhaul of core brand assets to ensure consistency and modern aesthetics across all corporate mediums.",
                            tags: ["Brand Strategy", "Illustrator", "Photoshop", "Visual Identity"],
                            icon: "flag",
                            imageClass: "",
                            color: "green"
                        },
                    ]
                },
                skills: {
                    title: "Core Skill Stack",
                    languages: "Language Proficiency: Malay (Native), Chinese (Native), English (Fluent)",
                    categories: [
                        {
                            title: "UI/UX & Design",
                            icon: "layout-grid",
                            tags: ["Figma", "Framer", "Design System", "ç½‘é¡µè®¾è®¡", "ç§»åŠ¨ç«¯è®¾è®¡", "ç”¨æˆ·ä½“éªŒè®¾è®¡", "è§†è§‰è®¾è®¡", "å›¾å½¢è®¾è®¡"],
                            color: "primary"
                        },
                        {
                            title: "å†…å®¹ä¸åª’ä½“",
                            icon: "video",
                            tags: ["æ‘„åƒ", "Adobe Premiere Pro", "Capcut", "Adobe Lightroom", "3D å»ºæ¨¡ (Unity)", "Adobe Photoshop"],
                            color: "accent"
                        },
                        {
                            title: "è¥é”€ä¸å·¥å…·",
                            icon: "bar-chart-3",
                            tags: ["ä»˜è´¹ç¤¾äº¤å¹¿å‘Š", "æ•°æ®é©±åŠ¨ä¼˜åŒ–", "çº¿ç´¢è½¬åŒ–", "è·¨èŒèƒ½åä½œ", "Canva", "Excel"],
                            color: "green"
                        }
                    ]
                },
                contact: {
                    title: "Ready to Collaborate",
                    p1: "Whether it's a creative project, a UI/UX challenge, or a marketing growth opportunity, I am eager to bring my design and business skills to the next team.",
                    ref: "Key Reference: LAI SWEE PIN, Chief Product Officer, ProppyApp Sdn Bhd"
                },
                footer: "Â© 2025 Patrick Cheng Ming Huan. All rights reserved."
            }
        };

        let currentLang = 'cn'; // Default language is Chinese
        
        // Global references for the PDF Modal
        const pdfModal = document.getElementById('pdf-modal');
        const pdfViewer = document.getElementById('pdf-viewer');
        const closeModalBtn = document.getElementById('close-modal');

        // --- RENDER FUNCTIONS ---
        
        function getLangContent() {
            return CONTENT[currentLang];
        }

        // Helper function to render Lucide icons
        function renderIcon(name, classes) {
            // This is the robust way to handle dynamic content with Lucide.
            return `<span class="${classes}"><i data-lucide="${name}"></i></span>`;
        }

        // Renders the Navigation
        function renderNav() {
            const content = getLangContent();
            const navLinks = document.getElementById('nav-links');
            navLinks.innerHTML = `
                <a href="#about" class="hover:text-[var(--color-primary)] transition duration-200">${content.nav.about}</a>
                <a href="#experience" class="hover:text-[var(--color-primary)] transition duration-200">${content.nav.experience}</a>
                <a href="#portfolio" class="hover:text-[var(--color-primary)] transition duration-200">${content.nav.portfolio}</a>
                <a href="#skills" class="hover:text-[var(--color-primary)] transition duration-200">${content.nav.skills}</a>
                <a href="#contact" class="hover:text-[var(--color-primary)] transition duration-200">${content.nav.contact}</a>
            `;
            lucide.createIcons();
        }

        // Renders the Hero Section
        function renderHero() {
            const content = getLangContent();
            const heroSection = document.getElementById('hero');
            heroSection.innerHTML = `
                <p class="text-xl sm:text-2xl font-medium mb-4 text-[var(--color-accent)]">${content.hero.greeting}</p>
                <h2 class="text-6xl sm:text-8xl lg:text-9xl font-extrabold tracking-widest mb-6 text-[var(--color-text)] leading-snug">
                    ${content.hero.title.split(' ').map(word => `<span>${word}</span>`).join(' ')}
                </h2>
                <p class="text-xl sm:text-2xl font-medium text-[var(--color-accent)] mb-12 tracking-wider">
                    ${content.hero.subtitle}
                </p>
                <div class="mt-8 space-x-4">
                    <a href="#experience" class="inline-flex items-center px-8 py-3.5 border border-transparent text-lg font-medium rounded-full text-white bg-[var(--color-primary)] hover:opacity-85 transition duration-300 transform hover:scale-[1.05]">
                        ${content.hero.cta_work}
                        <i data-lucide="arrow-right" class="w-5 h-5 ml-2"></i>
                    </a>
                    <a href="https://www.linkedin.com/in/atrickk/" target="_blank" class="inline-flex items-center px-8 py-3.5 border border-2 border-[var(--color-primary)] text-lg font-medium rounded-full text-[var(--color-primary)] hover:bg-[var(--color-primary)] hover:text-white transition duration-300 transform hover:scale-[1.05]">
                        LinkedIn
                        <i data-lucide="linkedin" class="w-5 h-5 ml-2"></i>
                    </a>
                </div>
            `;
            lucide.createIcons();
        }

        // Renders the About Section
        function renderAbout() {
            const content = getLangContent();
            document.getElementById('about-title').textContent = content.about.title;
            const aboutContent = document.getElementById('about-content');
            
            const introHtml = `
                <!-- ä¸ªäººä»‹ç» -->
                <div class="text-lg text-[var(--color-text)] leading-relaxed mb-8">
                    <p class="mb-4 flex items-start">
                        ${renderIcon('wand-2', 'w-6 h-6 mr-3 mt-1 text-[var(--color-primary)] flex-shrink-0')}
                        <span class="font-medium">${content.about.intro_1}</span>
                    </p>
                    <p class="flex items-start">
                        ${renderIcon('ruler', 'w-6 h-6 mr-3 mt-1 flex-shrink-0 text-[var(--color-primary)]')}
                        <span class="font-medium">${content.about.intro_2}</span>
                    </p>
                </div>
                
                <!-- æ•™è‚²èƒŒæ™¯ -->
                <div class="mt-8 pt-8 border-t border-[var(--color-border)]">
                    <h4 class="text-xl font-semibold mb-4 flex items-center text-[var(--color-text)]">
                        ${renderIcon('graduation-cap', 'w-5 h-5 mr-2 text-[var(--color-primary)]')}
                        ${content.about.edu_title}
                    </h4>
                    <ul class="space-y-4 text-[var(--color-text)]">
                        <li class="flex justify-between items-start text-base">
                            <div>
                                <p class="font-bold">${content.about.edu_usm.degree}</p>
                                <p class="text-sm text-[var(--color-accent)]">${content.about.edu_usm.institution}</p>
                                <p class="text-xs text-[var(--color-accent)] opacity-70">CGPA: ${content.about.edu_usm.cgpa}</p>
                            </div>
                            <span class="text-sm font-semibold flex-shrink-0 ml-4 text-[var(--color-accent)]">${content.about.edu_usm.year}</span>
                        </li>
                        <li class="flex justify-between items-start text-base">
                            <div>
                                <p class="font-bold">${content.about.edu_stpm.degree}</p>
                                <p class="text-sm text-[var(--color-accent)]">${content.about.edu_stpm.institution}</p>
                                <p class="text-xs text-[var(--color-accent)] opacity-70">CGPA: ${content.about.edu_stpm.cgpa}</p>
                            </div>
                            <span class="text-sm font-semibold flex-shrink-0 ml-4 text-[var(--color-accent)]">${content.about.edu_stpm.year}</span>
                        </li>
                    </ul>
                </div>
            `;
            aboutContent.innerHTML = introHtml;
            lucide.createIcons();
        }

        // Renders the Experience Section (New Card Layout)
        function renderExperience() {
            const content = getLangContent();
            document.getElementById('experience-title').textContent = content.experience.title;
            const experienceList = document.getElementById('experience-list');
            
            const html = content.experience.list.map(job => {
                const dutiesHtml = job.duties.map(d => `<li class="flex items-start text-[var(--color-text)] leading-relaxed"><span class="mr-2 text-[var(--color-primary)] font-bold">â€¢</span><span>${d}</span></li>`).join('');
                
                const achievementsHtml = job.achievements.length > 0 ? `
                    <div class="mt-6 pt-4 text-left achievement-box rounded-lg p-4">
                        <p class="font-bold text-sm text-[var(--color-primary)] mb-2">ğŸš€ ${currentLang === 'cn' ? 'å¢é•¿äº®ç‚¹/æˆå°±è®¤å¯:' : 'Growth/Performance Highlights:'}</p>
                        <ul class="text-xs list-disc list-inside font-medium space-y-1 text-[var(--color-text)] opacity-90">
                            ${job.achievements.map(a => `<li>${a}</li>`).join('')}
                        </ul>
                    </div>
                ` : '';

                return `
                    <div class="card p-10 rounded-2xl hover:shadow-xl transition duration-300 flex flex-col justify-between text-left">
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <h4 class="text-2xl font-bold text-[var(--color-text)] flex items-center">
                                    ${renderIcon(job.icon, 'w-6 h-6 mr-3 text-[var(--color-primary)]')}
                                    ${job.role}
                                </h4>
                                <p class="text-sm font-medium text-[var(--color-accent)] flex-shrink-0">${job.period}</p>
                            </div>
                            <p class="text-sm font-medium text-[var(--color-accent)] mb-5">${job.company}</p>
                            
                            <ul class="space-y-3 text-base list-none pl-0">
                                ${dutiesHtml}
                            </ul>
                        </div>
                        ${achievementsHtml}
                    </div>
                `;
            }).join('');

            experienceList.innerHTML = html;
            lucide.createIcons();
        }
        
        // Renders the Portfolio Section (UPDATED)
        function renderPortfolio() {
            const content = getLangContent();
            document.getElementById('portfolio-title').textContent = content.portfolio.title;
            const portfolioList = document.getElementById('portfolio-list');
            
            const html = content.portfolio.list.map((project, index) => {
                const tagsHtml = project.tags.map(tag => `<span class="tag tag-${project.color}">${tag}</span>`).join('');
                
                const iconComponent = project.icon || 'image';
                const isPdfProject = project.link.endsWith('.pdf');
                
                // Determine placeholder content
                let placeholderContent;
                if (project.imageClass) {
                    // Use CSS class to simulate a project preview image
                    placeholderContent = `<div class="w-full h-full ${project.imageClass} rounded-xl"></div>`;
                } else {
                    // Default icon placeholder
                    placeholderContent = `<i data-lucide="${iconComponent}" class="w-12 h-12 text-[var(--color-accent)] group-hover:text-[var(--color-primary)] transition duration-300"></i>`;
                }

                if (isPdfProject) {
                    // Render as DIV with data attribute for click handling
                    return `
                        <div data-project-index="${index}" class="portfolio-card-trigger card p-10 rounded-2xl hover:shadow-xl transition duration-300 flex flex-col justify-start text-left group cursor-pointer">
                            <div class="mb-4">
                                <!-- Image/Visual Preview Area -->
                                <div class="w-full h-32 bg-[var(--color-highlight-bg)] rounded-xl mb-6 flex items-center justify-center border border-[var(--color-border)] overflow-hidden">
                                    ${placeholderContent}
                                </div>
                                
                                <h4 class="text-xl font-bold text-[var(--color-text)] group-hover:text-[var(--color-primary)] transition duration-300">
                                    ${project.name}
                                    <i data-lucide="eye" class="w-4 h-4 ml-2 inline-block text-[var(--color-primary)] opacity-70"></i>
                                </h4>
                                <p class="text-sm text-[var(--color-accent)] mt-2 leading-relaxed">
                                    ${project.description}
                                </p>
                            </div>
                            <div class="flex flex-wrap gap-2 mt-4 pt-4 border-t border-[var(--color-border)]">
                                ${tagsHtml}
                            </div>
                        </div>
                    `;
                } else {
                    // Render as A tag for external/non-pdf links
                    const linkTarget = project.link === '#' ? '' : 'target="_blank" rel="noopener noreferrer"';
                    return `
                        <a href="${project.link}" ${linkTarget} class="card p-10 rounded-2xl hover:shadow-xl transition duration-300 flex flex-col justify-start text-left group">
                            <div class="mb-4">
                                <!-- Image/Visual Preview Area -->
                                <div class="w-full h-32 bg-[var(--color-highlight-bg)] rounded-xl mb-6 flex items-center justify-center border border-[var(--color-border)] overflow-hidden">
                                    ${placeholderContent}
                                </div>
                                
                                <h4 class="text-xl font-bold text-[var(--color-text)] group-hover:text-[var(--color-primary)] transition duration-300">
                                    ${project.name}
                                    <i data-lucide="arrow-up-right" class="w-4 h-4 ml-2 inline-block text-[var(--color-primary)] opacity-70"></i>
                                </h4>
                                <p class="text-sm text-[var(--color-accent)] mt-2 leading-relaxed">
                                    ${project.description}
                                </p>
                            </div>
                            <div class="flex flex-wrap gap-2 mt-4 pt-4 border-t border-[var(--color-border)]">
                                ${tagsHtml}
                            </div>
                        </a>
                    `;
                }
            }).join('');

            portfolioList.innerHTML = html;
            lucide.createIcons();
            
            // Attach click listeners to the PDF cards to open the modal
            document.querySelectorAll('.portfolio-card-trigger').forEach(card => {
                card.addEventListener('click', (e) => {
                    const index = e.currentTarget.getAttribute('data-project-index');
                    const project = CONTENT[currentLang].portfolio.list[index];
                    if (project && project.link.endsWith('.pdf')) {
                        openPdfModal(project.link);
                    }
                });
            });
        }

        // Renders the Skills Section
        function renderSkills() {
            const content = getLangContent();
            document.getElementById('skills-title').textContent = content.skills.title;
            const skillsContent = document.getElementById('skills-content');
            
            const categoriesHtml = content.skills.categories.map(cat => {
                const tagsHtml = cat.tags.map(tag => `<span class="tag tag-${cat.color}">${tag}</span>`).join('');
                const iconColorClass = cat.color === 'green' ? 'text-[var(--color-green)]' : `text-[var(--color-${cat.color})]`;

                return `
                    <div class="card p-10 rounded-2xl hover:shadow-xl text-left">
                        <div class="flex items-center mb-6 ${iconColorClass}">
                            ${renderIcon(cat.icon, 'w-8 h-8 mr-3')}
                            <h4 class="text-2xl font-semibold text-[var(--color-text)]">${cat.title}</h4>
                        </div>
                        <div class="flex flex-wrap gap-4">
                            ${tagsHtml}
                        </div>
                    </div>
                `;
            }).join('');

            skillsContent.innerHTML = categoriesHtml;
            
            const languageHtml = `
                <div class="mt-16 text-center col-span-full">
                    <p class="text-lg font-medium text-[var(--color-accent)]">
                        ğŸ—£ï¸ **${content.skills.languages}**
                    </p>
                </div>
            `;
            skillsContent.insertAdjacentHTML('beforeend', languageHtml);
            lucide.createIcons();
        }

        // Renders the Contact Section
        function renderContact() {
            const content = getLangContent();
            document.getElementById('contact-title').textContent = content.contact.title;
            const contactContent = document.getElementById('contact-content');
            
            // UPDATED: Text colors and spacing for CTA
            contactContent.innerHTML = `
                <p class="text-xl text-[var(--color-accent)] mb-10 max-w-2xl mx-auto">${content.contact.p1}</p>
                <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-12">
                    <div class="flex items-center justify-center">
                        ${renderIcon('mail', 'w-5 h-5 mr-2 text-[var(--color-primary)]')}
                        <span class="font-medium text-[var(--color-text)]">Atrickcheng@gmail.com</span>
                    </div>
                    <div class="flex items-center justify-center">
                        ${renderIcon('phone', 'w-5 h-5 mr-2 text-[var(--color-primary)]')}
                        <span class="font-medium text-[var(--color-text)]">(+60) 1111294498</span>
                    </div>
                </div>
                <div class="mt-12 pt-8 border-t border-[var(--color-border)] inline-block">
                    <p class="text-sm font-semibold text-[var(--color-accent)]">
                        ${renderIcon('user-check', 'w-4 h-4 inline-block mr-1')}
                        ${content.contact.ref}
                    </p>
                </div>
            `;
            lucide.createIcons();
        }

        // --- GLOBAL UTILITIES ---
        
        // PDF Modal Logic
        function openPdfModal(pdfUrl) {
            pdfViewer.src = pdfUrl;
            pdfModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
            lucide.createIcons(); 
        }

        function closePdfModal() {
            pdfModal.classList.add('hidden');
            pdfViewer.src = ""; // Clear iframe source to stop loading/prevent memory leaks
            document.body.style.overflow = ''; // Restore scrolling
        }

        closeModalBtn.addEventListener('click', closePdfModal);

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !pdfModal.classList.contains('hidden')) {
                closePdfModal();
            }
        });

        // Scroll Progress Bar Logic
        function updateProgressBar() {
            const scrollPx = document.documentElement.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrollPercentage = (scrollPx / scrollHeight) * 100;
            document.getElementById('progress-bar').style.width = scrollPercentage + "%";
            
            // Back to Top button visibility
            const backToTopBtn = document.getElementById('back-to-top');
            if (scrollPx > 500) {
                backToTopBtn.classList.add('show');
            } else {
                backToTopBtn.classList.remove('show');
            }
        }
        window.addEventListener('scroll', updateProgressBar);
        
        // Back to Top functionality
        document.getElementById('back-to-top').addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
        
        // --- MAIN RENDER LOOP ---
        function renderAllContent() {
            renderNav();
            renderHero();
            renderAbout();
            renderExperience();
            renderPortfolio(); 
            renderSkills();
            renderContact();
            document.getElementById('footer-text').textContent = CONTENT[currentLang].footer;
            // Update lang button text
            const langToggle = document.getElementById('lang-toggle');
            langToggle.textContent = currentLang === 'cn' ? 'EN/ä¸­æ–‡' : 'ä¸­æ–‡/EN';
            
            // Initialize progress bar width on load
            updateProgressBar();
        }

        // --- EVENT HANDLERS ---
        
        // Language Toggle
        const langToggle = document.getElementById('lang-toggle');
        langToggle.addEventListener('click', () => {
            currentLang = currentLang === 'cn' ? 'en' : 'cn';
            document.documentElement.lang = currentLang;
            renderAllContent();
        });

        // Theme Toggle (from previous version)
        const themeToggle = document.getElementById('theme-toggle');
        const root = document.documentElement;

        function setTheme(theme) {
            if (theme === 'dark') {
                root.classList.add('dark');
                localStorage.setItem('theme', 'dark');
                updateIcon('sun');
            } else {
                root.classList.remove('dark');
                localStorage.setItem('theme', 'light');
                updateIcon('moon');
            }
        }

        // FIXED: Updated to safely replace the icon by using data-lucide attribute and re-running createIcons
        function updateIcon(iconName) {
            const iconElement = themeToggle.querySelector('i');
            if (iconElement) {
                iconElement.innerHTML = ''; // Clear existing content (SVG)
                iconElement.setAttribute('data-lucide', iconName); // Set the new icon name
                // Re-run createIcons. This will find the <i> tag with data-lucide and replace it with the correct SVG.
                // This is the robust way to dynamically update a Lucide icon element in the DOM.
                lucide.createIcons(); 
            }
        }

        // Initial Theme Load
        const storedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        
        // Call createIcons once early to ensure initial icons in the DOM are rendered before theme logic runs
        lucide.createIcons(); 

        if (storedTheme === 'dark' || (!storedTheme && prefersDark)) {
            setTheme('dark');
        } else {
            setTheme('light');
        }

        // Theme Toggle Listener
        themeToggle.addEventListener('click', () => {
            const currentTheme = root.classList.contains('dark') ? 'dark' : 'light';
            setTheme(currentTheme === 'light' ? 'dark' : 'light');
        });
        
        // Tailwind Tag Styles (Custom Utility)
        const style = document.createElement('style');
        style.innerHTML = `
            .tag {
                /* ä¸»è‰²è°ƒæ ‡ç­¾ */
                @apply inline-flex items-center px-4 py-1.5 text-sm font-medium rounded-full bg-[var(--color-primary)] bg-opacity-15 text-[var(--color-text)] transition duration-200 hover:bg-opacity-25;
            }
            .tag-accent {
                /* å¼ºè°ƒè‰²æ ‡ç­¾ */
                @apply inline-flex items-center px-4 py-1.5 text-sm font-medium rounded-full bg-[var(--color-accent)] bg-opacity-15 text-[var(--color-text)] transition duration-200 hover:bg-opacity-25;
            }
            .tag-green {
                /* ç»¿è‰²æ ‡ç­¾ */
                @apply inline-flex items-center px-4 py-1.5 text-sm font-medium rounded-full bg-[var(--color-green)] bg-opacity-15 text-[var(--color-text)] transition duration-200 hover:bg-opacity-25;
            }
        `;
        document.head.appendChild(style);

        // Initial Content Render
        document.addEventListener('DOMContentLoaded', renderAllContent);

    </script>
</body>
</html>
